<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dgit.dao.ReservationDao">
<!-- 
	private String res_no;
	private Date res_save;
	private Date res_now;
	private int res_state;
	private Date res_paydate;
	private Date res_startdate;
	private Date res_enddate;
	private Date res_stay;
	private int res_price;
	private int res_his;
	private int fprice;
	private String res_forname;
	private int r_no;
	private String u_id;
 -->

	<select id="selectReservationById" parameterType="Reservation" resultType="Reservation">
		select * from reservation where u_id = #{u_id};
	</select>
	<select id="selectReservationByIdCount" parameterType="Reservation" resultType="Reservation">
		select * from reservation where res_his = #{res_his};
	</select>
	<update id="updateReshis" parameterType="Reservation">
		update reservation set res_his=#{res_his} where res_no = #{res_no};
	</update>
	
	<select id="selectById" parameterType="ReservationRoom" resultType="ReservationRoom">		
		select * from reservation r, room m where r.r_no = m.r_no and r.u_id = #{u_id};
	</select>
	
	
	<select id="selectReservationinquiryById" parameterType="Reservation" resultType="Reservation">
		select * from reservation where res_no = #{res_no};
	</select>
	<delete id="deleteByNoId" parameterType="Reservation">
		delete from reservation where res_no = #{res_no} and u_id = #{u_id};
	</delete>
	
</mapper>